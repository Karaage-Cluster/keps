KEP 2: Python 3
===============

:Created: 2014-06-30
:Author: Brian May
:Status: Draft


Overview
--------
Support Python 2 and Python 3.

Rationale
---------
Python 2.7 is in bug fix mode, and not being further developed. We need
to support Python 3 if we want ensure Karaage remains relevant.

Implementation
--------------
Beforce we can start, we need to ensure that there are Debian python3 packages
of all the relevant libraries.

For each package, we need to:

*  All required libraries have also been updated.
*  Ensure code is compatable with Python 2.7, Python 3.2 and Python 3.4.
*  Debian packages for python3.
*  All tests run without failure.
*  All packages except for alogger to be included in Debian/sid, and hopefully
   Debian/jessie.
*  Package should be available on code.vpac.org, wheezy and sid.

Not started
-----------
*  python3-celery [`Debian bug <http://bugs.debian.org/753555>`_]
*  python3-django-celery (requires python3-celery)
*  python3-flup (`upstream dead <http://www.saddi.com/software/flup/>`_?)
*  python3-mysqldb (`upstream dead <http://mysql-python.sourceforge.net/>`_?)

Needs upstream update
---------------------
*  python3-alogger

   * All tests pass (except slurm).
   * Needs new upstream release.

*  python3-django-south: Will be included in Django 1.7, which will be released
   soon.

Debian New
----------
Fixed versions of the following packages are waiting in Debian new queue
for manual processing.

*  python3-django-captcha
*  python3-django-model-utils
*  python3-django-pipeline [`Debian bug <http://bugs.debian.org/753556>`_]
*  python3-django-jsonfield

   *  `Upstream bug report
      <https://bitbucket.org/schinckel/django-jsonfield/issue/32/new-release-and-python3-support>`_.
   *  Latest release in Debian
      [`Debian bug <http://bugs.debian.org/753462>`_]
   *  All issues resolved.

*  python3-tldap

   *  Latest release in Debian new [`ITP <http://bugs.debian.org/753482>`_]

Done
----
The following packages are complete:

*  python-numpydoc (required by python3-matplotlib build)
*  python3-django [`Debian bug <http://bugs.debian.org/753556>`_].
*  python3-pil (required by python3-django-captcha).
*  python3-ajax-select
*  python3-django-xmlrpc [`ITP <http://bugs.debian.org/753481>`_]
*  python3-factory-boy [`Debian bug <http://bugs.debian.org/753558>`_]
*  python3-matplotlib
*  python3-django-tables2
*  python3-django-filters

This list may be incomplete.
